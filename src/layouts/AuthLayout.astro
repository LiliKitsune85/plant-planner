---
import Layout from "./Layout.astro";

interface Props {
  title?: string;
  heading: string;
  description?: string;
  eyebrow?: string;
}

const { title = "Plant Planner â€” logowanie", heading, description, eyebrow = "Plant Planner" } = Astro.props as Props;

// E2E runs the dev server with `astro dev --mode test`.
// Visual effects like large blurs can render slightly differently across CI environments,
// causing flaky Playwright snapshot tests. Keep the E2E UI deterministic.
const showDecorations = import.meta.env.MODE !== "test";
---

<Layout title={title}>
  <main class="relative min-h-screen overflow-hidden bg-background">
    {
      showDecorations ? (
        <div class="pointer-events-none absolute inset-0">
          <div class="absolute -left-10 top-16 h-64 w-64 rounded-full bg-primary/5 blur-3xl" />
          <div class="absolute right-0 top-1/3 h-72 w-72 rounded-full bg-emerald-200/40 blur-3xl" />
        </div>
      ) : null
    }
    <div
      class="relative z-10 mx-auto flex min-h-screen w-full max-w-6xl flex-col items-center justify-center gap-10 px-4 py-12 sm:px-6 lg:px-8"
    >
      <header class="max-w-2xl space-y-4 text-center">
        <p class="text-xs font-semibold uppercase tracking-[0.5em] text-muted-foreground">
          {eyebrow}
        </p>
        <h1 class="text-3xl font-bold tracking-tight text-foreground sm:text-4xl">{heading}</h1>
        {description ? <p class="text-base text-muted-foreground sm:text-lg">{description}</p> : null}
      </header>
      <div class="w-full max-w-lg">
        <slot />
      </div>
    </div>
  </main>
</Layout>
