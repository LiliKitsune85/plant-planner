---
import Layout from '../../layouts/Layout.astro'
import { PlantsListView } from '../../components/plants/list/PlantsListView'
import { buildInitialPlantsListQuery } from '../../lib/services/plants/list-view-model'

export const prerender = false

const initialQuery = buildInitialPlantsListQuery(Astro.url)
const pageTitle = initialQuery.q ? `Rośliny — wyniki dla "${initialQuery.q}"` : 'Lista roślin'
---

<Layout title={pageTitle}>
  <PlantsListView initialQuery={initialQuery} client:load />
</Layout>
